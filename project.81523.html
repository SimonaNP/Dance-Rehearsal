<!DOCTYPE html>

<html>
	<head>
		<script src="three.min.js"></script>
		<script src="human.js"></script>
	</head>
	
	<body>
		<h1>"Dance Rehearsal"<br><small>ф.н. 81523 &ndash; група 3 &ndash; Симона Петрова</small></h1>
       <audio id="music" autoplay >
           <source src="humble.mp3" type="audio/mpeg">
            <script>

                // нагласяване на цвета и центрирането на текста с имената ви
                document.getElementsByTagName('h1')[0].style = 'color:white; text-align:left; font-size:1.75em';

                // рисувателно поле на цял екран
                renderer = new THREE.WebGLRenderer({ antialias: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                document.body.appendChild(renderer.domElement);
                renderer.domElement.style = 'width:100%; height:100%; position:fixed; top:0; left:0; z-index:-1;';
                renderer.setClearColor(0x4f0412);

                // сцена и камера
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(30, window.innerWidth / window.innerHeight, 0.1, 2000);
                camera.position.set(0, 3, 200);

                // светлини
                var light = new THREE.DirectionalLight('lightblue', 0.8);
                light.position.set(0, 1, 4);
                scene.add(light);
                scene.add(new THREE.AmbientLight('white', 0.4));

                // функция за анимиране на сцената
                var t = 0; // време
                function drawFrame() {
                    requestAnimationFrame(drawFrame);
                    if (animate) animate(t++);
                    renderer.render(scene, camera);
                }

                hardWoodFloor = new THREE.Mesh(new THREE.PlaneGeometry(1000, 600, 100, 100), new THREE.MeshLambertMaterial({ color: 0x664214, wireframe: false }));
                hardWoodFloor.rotation.x -= Math.PI / 2;
                hardWoodFloor.position.set(0, -58, 0);
                scene.add(hardWoodFloor);
                


                var material = new THREE.MeshPhongMaterial({ color: 'gray', shininess: 100 });
                var extrudeSettings = { amount: 10, bevelEnabled: false };

                
                var u = new THREE.Shape();
                u.moveTo(-24.84, 40.68);
                u.lineTo(-26, 41.68);
                u.lineTo(-27.16, 40.68);
                u.lineTo(-27.16, 26.8);
                u.lineTo(-22.4, 24);
                u.lineTo(-18.8, 25.92);
                u.lineTo(-17.6, 25);
                u.lineTo(-15, 26.8);
                u.lineTo(-16.8, 28);
                u.lineTo(-16.8, 40.68);
                u.lineTo(-17.96, 41.68);
                u.lineTo(-19.12, 40.68);
                u.lineTo(-19.12, 28.4);
                u.lineTo(-22.4, 27.2);
                u.lineTo(-24.84, 28.4);
                u.lineTo(-24.84, 40.68);
                var uGeometry = new THREE.ExtrudeGeometry(u, extrudeSettings);
                var uPiece = new THREE.Mesh(uGeometry, material);
                uPiece.position.y += 10;
                uPiece.position.z -= 50;
                scene.add(uPiece);


                var n = new THREE.Shape();
                n.moveTo(-14.8, 40);
                n.lineTo(-12.4, 41.6);
                n.lineTo(-11.2, 40.8);
                n.lineTo(-7.6, 42.6);
                n.lineTo(-2.8, 40);
                n.lineTo(-2.8, 26.4);
                n.lineTo(-4, 25);
                n.lineTo(-5.2, 26.4);
                n.lineTo(-5.2, 38.2);
                n.lineTo(-7.6, 39.6);
                n.lineTo(-10, 38.2);
                n.lineTo(-10, 26.4);
                n.lineTo(-11.2, 25);
                n.lineTo(-12.4, 26.4);
                n.lineTo(-12.4, 38.8);
                n.lineTo(-14.8, 40);
                var nGeometry = new THREE.ExtrudeGeometry(n, extrudeSettings);
                var nPiece = new THREE.Mesh(nGeometry, material);
                nPiece.position.y += 10;
                nPiece.position.z -= 50;
                scene.add(nPiece);


                var i = new THREE.Shape();
                i.moveTo(1, 25);
                i.lineTo(2.2, 26.4);
                i.lineTo(2.2, 40.68);
                i.lineTo(1, 41.68);
                i.lineTo(-0.2, 40.68);
                i.lineTo(-0.2, 26.4);
                i.lineTo(1, 25);
                var iGeometry = new THREE.ExtrudeGeometry(i, extrudeSettings);
                var iPiece = new THREE.Mesh(iGeometry, material);
                iPiece.position.y += 10;
                iPiece.position.z -= 50;
                scene.add(iPiece);


                var dot = new THREE.Shape();
                dot.moveTo(1, 42.2);
                dot.lineTo(2.2, 43.4);
                dot.lineTo(1, 44.6);
                dot.lineTo(-0.2, 43.4);
                dot.lineTo(1, 42.2);
                var dotGeometry = new THREE.ExtrudeGeometry(dot, extrudeSettings);
                var dotPiece = new THREE.Mesh(dotGeometry, material);
                dotPiece.position.y += 10;
                dotPiece.position.z -= 50;
                scene.add(dotPiece);


                var T = new THREE.Shape();
                T.moveTo(9.4, 25);
                T.lineTo(10.6, 26.4);
                T.lineTo(10.6, 40.68);
                T.lineTo(12.4, 40.68);
                T.lineTo(13.8, 39.4);
                T.lineTo(15.8, 41.15);
                T.lineTo(13, 41.68);
                T.lineTo(3.8, 41.68);
                T.lineTo(3, 41.15);
                T.lineTo(5, 39.4);
                T.lineTo(6.4, 40.68);
                T.lineTo(8.2, 40.68);
                T.lineTo(8.2, 26.4);
                T.lineTo(9.4, 25);
                var tGeometry = new THREE.ExtrudeGeometry(T, extrudeSettings);
                var tPiece = new THREE.Mesh(tGeometry, material);
                tPiece.position.y += 10;
                tPiece.position.z -= 50;
                scene.add(tPiece);


                var y = new THREE.Shape();
                y.moveTo(23, 25);
                y.lineTo(24.2, 26.4);
                y.lineTo(24.2, 34.4);
                y.lineTo(28.2, 40);
                y.lineTo(28.6, 41.6);
                y.lineTo(26, 41.2);
                y.lineTo(23, 36.6);
                y.lineTo(20, 41.2);
                y.lineTo(17.4, 41.6);
                y.lineTo(17.8, 40);
                y.lineTo(21.8, 34.4);
                y.lineTo(21.8, 26.4);
                y.lineTo(23, 25);
                var yGeometry = new THREE.ExtrudeGeometry(y, extrudeSettings);
                var yPiece = new THREE.Mesh(yGeometry, material);
                yPiece.position.y += 10;
                yPiece.position.z -= 50;
                scene.add(yPiece);

                // танцьор 1
                colors = ['#eac086', '#e0af28', '#e0af28', '#eac086', '#eac086', '#e0af28'];
                танцьор1 = женствен();
                танцьор1.position.set(-15, 0, 0);
                танцьор1.врът(0, -90, 0);

                // танцьор 2
                colors = ['#eac086', '#03204f', '#03204f', 'orange', '#eac086', '#03204f'];
                танцьор2 = мъжествен();
                танцьор2.position.set(15, 0, 0);
                танцьор2.врът(0, -90, 0);

                //публика1
                colors = ['#eac086', '#1b1c1b', '#666866', '#1d602a', '#eac086', '#1d602a'];
                публика1 = мъжествен();
                публика1.position.set(-90, -23, -20);
                публика1.врът(0, -30, 0);

                публика1.д_крак.врът(0, 30, -130);
                публика1.д_коляно.врът(0, 0, 115);
                публика1.л_крак.врът(-80, 0, -100);
                публика1.л_коляно.врът(0, 0, 115);

                публика1.д_ръка.врът(0, 75, -40);
                публика1.д_лакът.врът(0, -100, -65);
                публика1.д_китка.врът(-30, -40, -65);
                публика1.л_ръка.врът(0, 65, 10);
                публика1.л_лакът.врът(0, -50, -35);


                //публика2
                colors = ['#eac086', '#1b1c1b', '#1b1c1b', '#652784', '#eac086', '#652784'];
                публика2 = мъжествен();
                публика2.position.set(90, -23, -20);
                публика2.врът(0, -150, 0);

                публика2.д_крак.врът(0, 30, -130);
                публика2.д_коляно.врът(0, 0, 115);
                публика2.л_крак.врът(-80, 0, -100);
                публика2.л_коляно.врът(0, 0, 115);

                публика2.д_ръка.врът(0, 75, -40);
                публика2.д_лакът.врът(0, -100, -65);
                публика2.д_китка.врът(-30, -40, -65);
                публика2.л_ръка.врът(0, 65, 10);
                публика2.л_лакът.врът(0, -50, -35);


                //публика3
                colors = ['#eac086', '#1b1c1b', '#1b1c1b', '#6da3f9', '#eac086', '#6da3f9'];
                публика3 = женствен();
                публика3.position.set(-95, -35, 0);
               

                публика3.д_крак.врът(80, 0, -130);
                публика3.д_коляно.врът(0, 0, 115);
                публика3.л_крак.врът(-80, 0, -100);
                публика3.л_коляно.врът(0, 0, 115);

                публика3.д_ръка.врът(0, 75, -40);
                публика3.д_лакът.врът(0, -120, -30);
                публика3.д_китка.врът(-30, -40, -65);
                публика3.л_ръка.врът(0, 65, 10);
                публика3.л_лакът.врът(0, -50, -35);
                публика3.л_китка.врът(30, 40, -65);

                //публика4
                colors = ['#eac086', '#1b1c1b', '#610000', '#666866', '#eac086', '#666866'];
                публика4 = мъжествен();
                публика4.position.set(95, -42, 0);
                публика4.врът(0, -180, 0);


                публика4.д_крак.врът(0, 0, -130);
                публика4.д_коляно.врът(0, 0, 115);
                публика4.д_глезен.врът(0, 0, 20);
                публика4.л_крак.врът(0, 0, -130);
                публика4.л_коляно.врът(0, 0, 115);
                публика4.л_глезен.врът(0, 0, 20);

                публика4.тяло.врът(0, 0, 10);
                публика4.таз.врът(0, 0, 10);

                публика4.д_ръка.врът(0, -50, 40);
                публика4.л_ръка.врът(20, -50, 50);
                публика4.л_китка.врът(0, -90, -35);


                // анимация 
                animate = function (t) {
                    // тук се описват динамичните елементи на позата
                    // като променливата t е номер на кадър, като се
                    // очаква 1 секунда да е приблизително 60 кадъра
                    //scene.rotateY(rad(-0.3));
                    if (t <= 525) {
                        публика1.глава.врът(0, 0, (sin(8 * (t - 90))) * 8);
                        публика2.глава.врът(0, 0, (sin(8 * (t - 90))) * 8);
                        публика3.глава.врът(0, 0, (sin(8 * (t - 90))) * 8);
                        публика4.глава.врът(0, 0, (sin(8 * (t - 90))) * 8);
                    }
                    
                    if (t <= 35) {
                        танцьор1.врът(0, Math.abs(sin(2*t)) * (-90) + 90, 0);
                        танцьор2.врът(0, Math.abs(sin(2* t)) * (-90) - 100, 0);
                    }

                  

                    //--------------
                    //---MOONWALK---
                    //--------------
                    if (t > 37 && t <= 195) {
                        
                        //танцьор 1 (вляво)
                        танцьор1.position.set(sin(1.5 * t) * (15) - 40, 0, 0);

                        танцьор1.д_коляно.врът(0, 0, (sin(3 * t)) * 15 + 20);
                        танцьор1.д_крак.врът(0, 0,(sin(3 * t)) * (-25) - 10);
                        танцьор1.д_глезен.врът(0, 0, (sin(3 * t)) * (30) +10);

                        танцьор1.л_коляно.врът(0, 0, (sin(3 * t - 90)) *(- 15) +20);
                        танцьор1.л_крак.врът(0, 0, (sin(3 * t)) * (25) -10);
                        танцьор1.л_глезен.врът(0, 0, (sin(3 * t)) * (-30) + 10);

                        танцьор1.д_лакът.врът(0, 0, Math.abs(sin(3 * t)) * (-10) - 5);
                        танцьор1.д_ръка.врът(0, 0, (sin(3 * t)) * (10) - 5);
                        танцьор1.д_китка.врът(0, 0, Math.abs(sin(3 * t)) * (-10));

                        танцьор1.л_лакът.врът(0, 0, Math.abs(sin(3 * t)) * (-10) - 5);
                        танцьор1.л_ръка.врът(0, 0, (sin(3 * t)) * (-10) - 5);
                        танцьор1.л_китка.врът(0, 0, Math.abs(sin(3 * t)) * (-10));

                        танцьор1.тяло.врът(0, 0, sin(6 * t - 90) * (-10) + 5);
                        танцьор1.таз.врът((sin(3 * t + 90)) * (-3), 0, sin(6 * t + 90) * (-5) - 5);

                        
                        //танцьор 2(вдясно)                        
                        танцьор2.position.set(sin(1.5 * t) * (-15) + 40, 0, 0);

                        танцьор2.д_коляно.врът(0, 0, (sin(3 * t - 90)) * (-15) + 20);
                        танцьор2.д_крак.врът(0, 0, (sin(3 * t)) * (25) - 10);
                        танцьор2.д_глезен.врът(0, 0, (sin(3 * t)) * (-30) + 10);

                        танцьор2.л_коляно.врът(0, 0, (sin(3 * t)) * 15 + 20);
                        танцьор2.л_крак.врът(0, 0, (sin(3 * t)) * (-25) - 10);
                        танцьор2.л_глезен.врът(0, 0, (sin(3 * t)) * (30) + 10);

                        танцьор2.д_лакът.врът(0, 0, Math.abs(sin(3 * t)) * (-10) - 5);
                        танцьор2.д_ръка.врът(0, 0, (sin(3 * t)) * (-10) - 5);
                        танцьор2.д_китка.врът(0, 0, Math.abs(sin(3 * t)) * (-10));

                        танцьор2.л_лакът.врът(0, 0, Math.abs(sin(3 * t)) * (-10) - 5);
                        танцьор2.л_ръка.врът(0, 0, (sin(3 * t)) * (10) - 5);
                        танцьор2.л_китка.врът(0, 0, Math.abs(sin(3 * t)) * (-10));

                        танцьор2.тяло.врът(0, 0, sin(6 * t - 90) * (-10) + 5);
                        танцьор2.таз.врът((sin(3 * t + 90)) * (3), 0, sin(6 * t + 90) * (-5) - 5);

                    }

                    if (t > 195 && t <= 205) {

                        //танцьор 1 (вляво)

                        танцьор1.д_коляно.врът(0, 0, (sin(2 * t)) * 5 );
                        танцьор1.д_крак.врът(0, 0, (sin(2 * t)) * (5) );
                        танцьор1.д_глезен.врът(0, 0, (sin(2 * t)) * (5));

                        танцьор1.л_коляно.врът(0, 0, (sin(2 * t - 90)) * (-5) );
                        танцьор1.л_крак.врът(0, 0, (sin(2 * t)) * (-5) );
                        танцьор1.л_глезен.врът(0, 0, (sin(2 * t)) * (-5));

                        танцьор1.д_лакът.врът(0, 0, Math.abs(sin(2 * t)) * (-5));
                        танцьор1.д_ръка.врът(0, 0, (sin(2 * t)) * (5));
                        танцьор1.д_китка.врът(0, 0, Math.abs(sin(2 * t)) * (-5));

                        танцьор1.л_лакът.врът(0, 0, Math.abs(sin(2 * t)) * (-5) );
                        танцьор1.л_ръка.врът(0, 0, (sin(2 * t)) * (-5));
                        танцьор1.л_китка.врът(0, 0, Math.abs(sin(2 * t)) * (-5));

                        танцьор1.тяло.врът(0, 0, sin(2 * t - 90) * (-5) - 5 );
                        танцьор1.таз.врът((sin(2 * t + 90)) * (-3), 0, sin(2 * t + 90) * (5));
                        

                        //танцьор 2(вдясно)                        
                        
                        танцьор2.д_коляно.врът(0, 0, (sin(2 * t - 90)) * (-5));
                        танцьор2.д_крак.врът(0, 0, (sin(2 * t)) * (-5));
                        танцьор2.д_глезен.врът(0, 0, (sin(2 * t)) * (-5) );

                        танцьор2.л_коляно.врът(0, 0, (sin(2 * t)) * 5);
                        танцьор2.л_крак.врът(0, 0, (sin(2 * t)) * (5) );
                        танцьор2.л_глезен.врът(0, 0, (sin(2 * t)) * (5) );

                        танцьор2.д_лакът.врът(0, 0, Math.abs(sin(2 * t)) * (-5));
                        танцьор2.д_ръка.врът(0, 0, (sin(2 * t)) * (-5) );
                        танцьор2.д_китка.врът(0, 0, Math.abs(sin(2 * t)) * (-5));

                        танцьор2.л_лакът.врът(0, 0, Math.abs(sin(2 * t)) * (-5));
                        танцьор2.л_ръка.врът(0, 0, (sin(2 * t)) * (5));
                        танцьор2.л_китка.врът(0, 0, Math.abs(sin(2 * t)) * (-5));

                        танцьор2.тяло.врът(0, 0, sin(2 * t - 90) * (-5) + 5);
                        танцьор2.таз.врът((sin(2 * t + 90)) * (3), 0, sin(2 * t + 90) * (-5));
                        
                    }

                    if (t > 205 && t<= 235) {
                        танцьор1.врът(0, Math.abs(sin(3 * t)) * (90) - 90, 0);
                        танцьор2.врът(0, Math.abs(sin(3 * t)) * (-90) - 80, 0);
                    }

                    //напред-назад
                    if (t > 240 && t < 260) {
                        //танцьор 1 (вляво)
                        танцьор1.position.set(-45, -5, sin(3 * t) * (15));

                        танцьор1.д_коляно.врът(0, 0, (sin(3 * t)) * 15 + 20);
                        танцьор1.д_крак.врът(0, 0, (sin(3 * t)) * (25) - 10);
                        танцьор1.д_глезен.врът(0, 0, (sin(3 * t)) * (30) + 10);

                        танцьор1.л_коляно.врът(0, 0, (sin(3 * t - 90)) * (-15) + 20);
                        танцьор1.л_крак.врът(0, 0, (sin(3 * t)) * (-25) - 10);
                        танцьор1.л_глезен.врът(0, 0, (sin(3 * t)) * (-30) + 10);

                        танцьор1.таз.position.set(0, (sin(6 * t + 90)) * (3), 0);

                        танцьор1.д_лакът.врът(0, 0, Math.abs(sin(3 * t-90)) * (-30));
                        танцьор1.д_ръка.врът(Math.abs(sin(3 * t-90)) * (-75), 0, Math.abs(sin(3 * t-90)) * (-75) );

                        танцьор1.л_лакът.врът(0, 0, Math.abs(sin(3 * t-90)) * (-30));
                        танцьор1.л_ръка.врът(Math.abs(sin(3 * t-90)) * (100), 0, Math.abs(sin(3 * t-90)) * (-75) );

                        //танцьор 2(вдясно)

                        танцьор2.position.set(45, 5, sin(3 * t) * (-15));
    
                        танцьор2.л_коляно.врът(0, 0, (sin(3 * t)) * 15 + 20);
                        танцьор2.л_крак.врът(0, 0, (sin(3 * t)) * (25) - 10);
                        танцьор2.л_глезен.врът(0, 0, (sin(3 * t)) * (30) + 10);
    
                        танцьор2.д_коляно.врът(0, 0, (sin(3 * t - 90)) * (-15) + 20);
                        танцьор2.д_крак.врът(0, 0, (sin(3 * t)) * (-25) - 10);
                        танцьор2.д_глезен.врът(0, 0, (sin(3 * t)) * (-30) + 10);
    
                        танцьор2.таз.position.set(0, (sin(6 * t + 90)) * (3), 0);

                        танцьор2.д_лакът.врът(0, 0, Math.abs(sin(3 * t)) * (-30));
                        танцьор2.д_ръка.врът(Math.abs(sin(3 * t)) * (-75), 0, Math.abs(sin(3 * t)) * (-75) - 10);

                        танцьор2.л_лакът.врът(0, 0, Math.abs(sin(3 * t)) * (-30));
                        танцьор2.л_ръка.врът(Math.abs(sin(3 * t)) * (100), 0, Math.abs(sin(3 * t)) * (-75) - 10);


                    }

                    if (t > 270 && t <= 300) {
                        танцьор1.врът(0, Math.abs(cos(3 * t)) * (-90) -90, 10);
                        танцьор2.врът(0, Math.abs(sin(3 * t)) * (90) - 5, -10);
                    }

                    //тук използвам кода от второто домашно(смяна на местата)
                    if (t > 305 && t < 445) {
                        танцьор1.position.set(sin(1.5 * t) * (-30) , -5, 10);

                        танцьор1.д_лакът.врът(Math.abs(sin(4 * t)) * (90) + 20, 0, 0);
                        танцьор1.д_ръка.врът(0, Math.abs(sin(4 * t)) * (90), Math.abs(sin(4 * t)) * (50) - 80);

                        танцьор1.л_лакът.врът(Math.abs(sin(4 * t)) * (-90) - 20, 0, 0);
                        танцьор1.л_ръка.врът(0, Math.abs(sin(4 * t)) * (-90), Math.abs(sin(4 * t)) * (50) - 80);


                        танцьор1.л_коляно.врът(0, 0, Math.abs(sin(2 * t - 90)) * 80);
                        танцьор1.л_крак.врът(0, 0, Math.abs(sin(2 * t - 90)) * (-90) + 30);
                        танцьор1.л_глезен.врът(0, 0, Math.abs(sin(2 * t)) * (-15));

                        танцьор1.д_коляно.врът(0, 0, Math.abs(sin(2 * t)) * 80);
                        танцьор1.д_крак.врът(0, 0, Math.abs(sin(2 * t)) * (-90) + 30);
                        танцьор1.д_глезен.врът(0, 0, Math.abs(sin(2 * t + 90)) * (-15));

                        танцьор1.таз.врът((sin(4 * t + 90)) * 3, 0, (sin(8 * t + 90)) * 8 -10);
                        танцьор1.тяло.врът(0, 0, (sin(4 * t - 90)) * 2 - 5);
                        танцьор1.глава.врът(0, 0, (sin(8 * (t - 90))) * 8);

                        танцьор2.position.set(sin(1.5 * t) * (30) , 5, -10);

                        танцьор2.д_лакът.врът(Math.abs(sin(4 * t)) * (90) + 20, 0, 0);
                        танцьор2.д_ръка.врът(0, Math.abs(sin(4 * t)) * (90), Math.abs(sin(4 * t)) * (50) - 80);

                        танцьор2.л_лакът.врът(Math.abs(sin(4 * t)) * (-90) - 20, 0, 0);
                        танцьор2.л_ръка.врът(0, Math.abs(sin(4 * t)) * (-90), Math.abs(sin(4 * t)) * (50) - 80);


                        танцьор2.л_коляно.врът(0, 0, Math.abs(sin(2 * t - 90)) * 80);
                        танцьор2.л_крак.врът(0, 0, Math.abs(sin(2 * t - 90)) * (-90) + 30);
                        танцьор2.л_глезен.врът(0, 0, Math.abs(sin(2 * t)) * (-15));

                        танцьор2.д_коляно.врът(0, 0, Math.abs(sin(2 * t)) * 80);
                        танцьор2.д_крак.врът(0, 0, Math.abs(sin(2 * t)) * (-90) + 30);
                        танцьор2.д_глезен.врът(0, 0, Math.abs(sin(2 * t + 90)) * (-15));

                        танцьор2.таз.врът((sin(4 * t + 90)) * 3, 0, (sin(8 * t + 90)) * 8 +10);
                        танцьор2.тяло.врът(0, 0, (sin(4 * t - 90)) * 2 + 5);
                        танцьор2.глава.врът(0, 0, (sin(8 * (t - 90))) * 8 );

                    }

                    //обръщане напред
                    if (t > 450 && t <= 485) {

                        //танцьор1 (вдясно)

                        танцьор1.врът(0, Math.abs(cos(3 * t - 90)) * (-90)  - 65, 10);
                        
                        танцьор1.л_коляно.врът(0, 0, Math.abs(cos(2 * t)) * 80);
                        танцьор1.л_крак.врът(0, 0, Math.abs(cos(2 * t )) * (-90) + 30);
                        танцьор1.л_глезен.врът(0, 0, Math.abs(cos(2 * t - 90)) * (-15));

                        танцьор1.д_лакът.врът(Math.abs(cos(2 * t)) * (90) - 20, 0, 0);
                        танцьор1.д_ръка.врът(0, Math.abs(sin(2 * t + 90)) * (90) - 30, Math.abs(cos(2 * t + 90)) * (50) - 50);
                        танцьор1.л_лакът.врът(Math.abs(cos(2 * t)) * (-90) + 20, 0, 0);
                        танцьор1.л_ръка.врът(0, Math.abs(sin(2 * t + 90)) * (-90) + 30, Math.abs(cos(2 * t + 90)) * (50) - 50);

                        //танцьор2 (вляво)

                        танцьор2.врът(0, Math.abs(cos(3 * t - 90)) * (90) - 105, -10);

                        танцьор2.л_коляно.врът(0, 0, Math.abs(cos(2 * t)) * 80);
                        танцьор2.л_крак.врът(0, 0, Math.abs(cos(2 * t)) * (-90) + 30);
                        танцьор2.л_глезен.врът(0, 0, Math.abs(cos(2 * t - 90)) * (-15));

                        танцьор2.д_лакът.врът(Math.abs(cos(2 * t)) * (90) - 20, 0, 0);
                        танцьор2.д_ръка.врът(0, Math.abs(sin(2 * t + 90)) * (90) - 30, Math.abs(cos(2 * t + 90)) * (50) - 50);
                        танцьор2.л_лакът.врът(Math.abs(cos(2 * t)) * (-90) + 20, 0, 0);
                        танцьор2.л_ръка.врът(0, Math.abs(sin(2 * t + 90)) * (-90) + 30, Math.abs(cos(2 * t + 90)) * (50) - 50);
                    }

                    //клек и скок напред
                    if (t > 495 && t <= 515) {
                        //танцьор1 (вдясно)
                        танцьор1.л_коляно.врът(Math.abs(sin(1.5 * t - 90)) * (10) + 30, Math.abs(sin(1.5 * t)) * (40) + 15, Math.abs(sin(1.5 * t + 10)) * (135));
                        танцьор1.л_крак.врът(Math.abs(cos(1.5 * t)) * (-30) - 25, -15, Math.abs(sin(1.5 * t)) * (-90) - 60);
                        танцьор1.л_глезен.врът(-20, 0, Math.abs(cos(1.5 * t - 90)) * (20) - 20);

                        танцьор1.д_коляно.врът(Math.abs(sin(1.5 * t)) * (-10) - 30, Math.abs(sin(1.5 * t)) * (-40) - 15, Math.abs(sin(1.5 * t + 10)) * (135));
                        танцьор1.д_крак.врът(Math.abs(cos(1.5 * t)) * (30) + 25, 15, Math.abs(sin(1.5 * t)) * (-90) - 60);
                        танцьор1.д_глезен.врът(20, 0, Math.abs(cos(1.5 * t - 90)) * (-20) + 20);

                        танцьор1.таз.position.set(0, Math.abs(cos(1.5 * t - 90)) * (-20), 0);
                        танцьор1.таз.врът(0, 0, (sin(1.5 * t + 90)) * (-10));

                        танцьор1.д_лакът.врът(Math.abs(cos(1.5 * t + 90)) * (30) - 5, 0, 0);
                        танцьор1.д_ръка.врът(0, Math.abs(sin(1.5 * t + 90)) * (50) + 30, Math.abs(cos(1.5 * t + 90)) * (-90) - 75);
                        танцьор1.л_лакът.врът(Math.abs(cos(1.5 * t + 90)) * (-30) + 5, 0, 0);
                        танцьор1.л_ръка.врът(0, Math.abs(sin(1.5 * t + 90)) * (-50) - 30, Math.abs(cos(1.5 * t + 90)) * (-90) - 75);

                        //танцьор2 (вляво)
                        танцьор2.position.set(-20, Math.abs(cos(6 * t - 90)) * (20)-15, (sin(3 * t + 90)) * (-10));

                        танцьор2.л_коляно.врът(0, 0, Math.abs(cos(3 * t)) * 135);
                        танцьор2.л_крак.врът(0, 0, Math.abs(cos(3 * t)) * (-90));
                        танцьор2.л_глезен.врът(0, 0, Math.abs(sin(6 * t - 90)) * (-30));
                        танцьор2.д_коляно.врът(0, 0, Math.abs(cos(3 * t)) * 135);
                        танцьор2.д_крак.врът(0, 0, Math.abs(cos(3 * t)) * (-90));
                        танцьор2.д_глезен.врът(0, 0, Math.abs(sin(6* t - 90)) * (-30));

                        танцьор2.таз.врът(0, 0, (sin(3 * t + 90)) * (-3));
                        

                        танцьор2.д_лакът.врът(Math.abs(cos(1,5 * t + 90)) * (50) - 5, Math.abs(cos(1,5 * t + 90)) * (-75), 0);
                        танцьор2.д_ръка.врът(Math.abs(cos(1,5 * t + 90)) * (25)-20, Math.abs(cos(1,5 * t + 90)) * (-75) + 105, Math.abs(sin(1,5 * t + 90)) * (90) - 75);
                        танцьор2.л_лакът.врът(Math.abs(cos(1,5 * t + 90)) * (50) - 5, Math.abs(cos(1,5 * t + 90)) * (-75), 0);
                        танцьор2.л_ръка.врът(Math.abs(cos(1,5 * t + 90)) * (-25) + 20, Math.abs(cos(1,5 * t + 90)) * (75) +75, Math.abs(sin(1,5 * t + 90)) * (-90) + 75);
                    }

                    //връщане в крайна позиция
                    if (t > 520 && t <= 525) {
                        
                        танцьор1.л_коляно.врът(Math.abs(cos(1.5 * t - 90)) * (10), Math.abs(cos(1.5 * t)) * (40)-15, Math.abs(cos(1.5 * t + 20)) * (135));
                        танцьор1.л_крак.врът(Math.abs(cos(1.5 * t)) * (-30)+30,-20, Math.abs(cos(1.5 * t)) * (-90)+75);
                        танцьор1.л_глезен.врът(-20, 0, Math.abs(cos(1.5 * t - 90)) * (20) - 20);

                        танцьор1.д_коляно.врът(Math.abs(cos(1.5 * t)) * (-10), Math.abs(cos(1.5 * t)) * (-40) + 15, Math.abs(cos(1.5 * t + 20)) * (135));
                        танцьор1.д_крак.врът(Math.abs(cos(1.5 * t)) * (30) -30, 20, Math.abs(cos(1.5 * t)) * (-90) +75);
                        танцьор1.д_глезен.врът(20, 0, Math.abs(cos(1.5 * t - 90)) * (-20) + 20);

                        танцьор1.таз.position.set(0, Math.abs(cos(1.5 * t - 90)) * (1), 0);
                        танцьор1.таз.врът(0, 0, (cos(1.5 * t + 90)) * (-10));

                        танцьор1.д_лакът.врът(Math.abs(sin(1.5 * t + 90)) * (30) - 5, 0, 0);
                        танцьор1.д_ръка.врът(0, (cos(1.5 * t + 90)) * (-50), (sin(1.5 * t + 90)) * (-90)+40);
                        танцьор1.л_лакът.врът(Math.abs(sin(1.5 * t + 90)) * (-30) + 5, 0, 0);
                        танцьор1.л_ръка.врът(0, (cos(1.5 * t + 90)) * (50), (sin(1.5 * t + 90)) * (-90)+40);

                       
                        танцьор2.д_лакът.врът(Math.abs(sin(1.5 * t + 90)) * (50) - 5, Math.abs(sin(1.5 * t + 90)) * (-75), 0);
                        танцьор2.д_ръка.врът(Math.abs(sin(1.5 * t + 90)) * (25) - 10, Math.abs(sin(1.5 * t + 90)) * (-75) + 105, Math.abs(cos(1.5 * t + 90)) * (90) - 75);
                        танцьор2.л_лакът.врът(Math.abs(sin(1.5 * t + 90)) * (50) - 5, Math.abs(sin(1.5 * t + 90)) * (-75), 0);
                        танцьор2.л_ръка.врът(Math.abs(sin(1.5 * t + 90)) * (-25) + 10, Math.abs(sin(1.5 * t + 90)) * (75) + 75, Math.abs(cos(1.5 * t + 90)) * (-90) + 75);
                    }

                   
    
                }

                drawFrame();
            </script>
</body>
</html>